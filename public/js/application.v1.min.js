var hermes=angular.module("hermes",["ui.router","ngResource","ui.materialize"]);hermes.constant("config",{apiKey:"AIzaSyB5iw0dc-qipE6iIEeoezD2oetkHh0s8ls",databaseURL:"http://hermes.api.dev",equipos:"/equipos",servidores:"/servidores",switches:"/switches",puertos:"/puertos",vlans:"/vlans",version:"0.1.2"});
hermes.config(function($stateProvider,$urlRouterProvider,$httpProvider){function wherever_we_are(are){var are=window.location;return are.origin+are.pathname}$urlRouterProvider.otherwise("/");$stateProvider.state("index",{url:"/",templateUrl:wherever_we_are()+"view/login.html",controller:"login_controller"}).state("login",{url:"/login",templateUrl:wherever_we_are()+"view/login.html",controller:"login_controller"}).state("forget",{url:"/forget",templateUrl:wherever_we_are()+"view/forget.html",controller:"forget_controller"}).state("register",{url:"/register",templateUrl:wherever_we_are()+"view/register.html",controller:"register_controller"}).state("dashboard",{url:"/dashboard",templateUrl:wherever_we_are()+"view/dashboard.html",controller:"dashboard_controller"}).state("servidores",{url:"/servidores",templateUrl:wherever_we_are()+"view/servidores.html",controller:"servidores_controller"}).state("switches",{url:"/switches",templateUrl:wherever_we_are()+"view/switches.html",controller:"switches_controller"}).state("equipos",{url:"/equipos",templateUrl:wherever_we_are()+"view/equipos.html",controller:"equipos_controller"}).state("settings",{url:"/settings",templateUrl:wherever_we_are()+"view/settings.html",controller:"settings_controller"}).state("profile",{url:"/me",templateUrl:wherever_we_are()+"view/profile.html",controller:"profile_controller"}).state("admin",{url:"/admin",templateUrl:wherever_we_are()+"view/admin.html",controller:"admin_controller"}).state("net",{url:"/conexiones",templateUrl:wherever_we_are()+"view/net.html",controller:"net_controller"}).state("single_switche",{url:"/switches/:id",templateUrl:wherever_we_are()+"view/single-switches.html",controller:"single_switches_controller"}).state("single_equipo",{url:"/equipos/:id",templateUrl:wherever_we_are()+"view/single-equipos.html",controller:"single_equipos_controller"}).state("single_servidores",{url:"/servidores/:id",templateUrl:wherever_we_are()+"view/single-servidores.html",controller:"single_servidores_controller"})});
hermes.controller("create_modal",function($scope){$(".button-create").sideNav({menuWidth:500,draggable:true})});
hermes.controller("dashboard_controller",function($scope){console.log("Esto es Esparta!!");console.log("ssssh que aqui no hay nada!!");console.log("bueno bueno espartica ...")});
hermes.controller("equipos_controller",function($scope,Query,Progres,config){Query.getUrl(config.databaseURL+config.equipos);Query.getAll(function(equipos){$scope.equipos=equipos.data;Progres.loaded()})});
hermes.controller("forget_controller",function($scope,$location,$window){console.log("Recuperar la contrase√±a de los usuarios")});
hermes.controller("login_controller",function(config,$scope,$window){console.log("Credenciales de identificacion de los usuarios")});
hermes.controller("nav",function(){$(".tooltipped").tooltip({delay:50})});
hermes.controller("net_controller",function($scope,$location,$window,Progres,Query,config){console.log("Anidaciones para siempre")});
hermes.controller("profile_controller",function($scope,$location,$window,Progres,Query,config){console.log("Cuentas controller")});
hermes.controller("register_controller",function($scope){console.log("Registro de nuevos usuarios")});
hermes.controller("servidores_controller",function($scope,$location,$window,Progres,Query,config){Query.getUrl(config.databaseURL+config.servidores);Query.getAll(function(servidores){$scope.servidores=servidores.data;Progres.loaded()})});
hermes.controller("settings_controller",function($scope,$location,$window,Progres,Query,config){console.log("Configuraciones")});
hermes.controller("single_equipos_controller",function($scope,$resource,$http,$stateParams,$location,$window,Progres,Query,materialize,config){Query.getUrl(config.databaseURL+config.switches+"/"+$stateParams.id);Query.getAll(function(sw){$scope.switche=sw.data});$scope.delete=function(){Query.killme(config.databaseURL+config.switches+"/"+$stateParams.id);Materialize.toast("El Switche se esta eliminando",4e3);$window.location.href="#/switches"}});
hermes.controller("single_servidores_controller",function($scope,$resource,$http,$stateParams,$location,$window,Progres,Query,materialize,config){Query.getUrl(config.databaseURL+config.switches+"/"+$stateParams.id);Query.getAll(function(sw){$scope.switche=sw.data});$scope.delete=function(){Query.killme(config.databaseURL+config.switches+"/"+$stateParams.id);Materialize.toast("El Switche se esta eliminando",4e3);$window.location.href="#/switches"}});
hermes.controller("single_switches_controller",function($scope,$http,$stateParams,$location,$window,Progres,Query,materialize,config){Query.getUrl(config.databaseURL+config.switches+"/"+$stateParams.id);Query.getAll(function(sw){$scope.switche=sw;Progres.loaded()});$scope.update=function(datos){Progres.progressloading();Query.updateDates(datos)};$scope.delete=function(){Progres.progressloading();Query.killme()};$scope.verModulos=function(){Materialize.toast("Esta funcion aun no esta lista",4e3)};Query.getUrl(config.databaseURL+config.switches+"/"+$stateParams.id+config.puertos);Query.getAll(function(puertos){Query.getUrl(config.databaseURL+config.puertos+"/"+puertos.data[0].pivot.puerto_id+config.equipos);Query.getAll(function(equipos){console.log(equipos);$scope.equiposPuerto=equipos.data.equipo;$scope.puertoEquipo=equipos});$scope.SwPuertos=puertos.data})});
hermes.controller("switches_controller",function($scope,$location,$window,Progres,Query,config){Query.getUrl(config.databaseURL+config.switches);Query.getAll(function(switches){$scope.switches=switches.data;Progres.loaded()});Query.getUrl(config.databaseURL+config.equipos);Query.getAll(function(equipos){$scope.equipos=equipos.data;Progres.loaded()});$scope.sw={};$scope.crearSW=function(datos){Query.sendNudes(datos)}});
hermes.factory("SwitchesFactory",function($resource,config){return $resource(config.databaseURL+config.switches)});
hermes.service("materialize",function(){$(".button-edit").sideNav({menuWidth:600,edge:"left",draggable:true});$("select").material_select();$(".dropdown-button").dropdown()});
hermes.service("Progres",function(){this.progressloading=function(argument){$(".progress-update").removeClass("hide")};this.progressloaded=function(argument){$(".progress-update").addClass("hide")};this.loaded=function(argument){$(".load").addClass("hide");$(".table__content").removeClass("hide");$(".btn").removeClass("disabled");$(".progress-load").addClass("hide")};this.itsClear=function(argument){$(".loadClear").removeClass("hide")};this.fuckMenSalioMal=function(argument){$(".loadError").removeClass("hide")}});
hermes.service("Query",function($http,$window,config){this.getUrl=function(url){this.url=url};this.getAll=function(success,failure){$http.get(this.url).success(success).error(failure)};this.sendNudes=function(datos,success,failure){$http({url:config.databaseURL+config.switches,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param(datos)}).then(function(response){Materialize.toast("El elemento fue creado",4e3);console.log(JSON.stringify(response))},function(response){Materialize.toast("Ocurrio un error al crear el elemento",4e3);console.log(JSON.stringify(response))})};this.updateDates=function(datos){$http({url:this.url,method:"PATCH",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param(datos)}).success(function(success){Materialize.toast("Tu elemento fue actualizado",4e3);$(".progress-update").addClass("hide")}).error(function(error){Materialize.toast("Ocurrio un error al actualizar el elemento",4e3);console.log(JSON.stringify(error))})};this.killme=function(deletewhat){$http.delete(this.url).success(function(success){Materialize.toast("El elemento fue eliminado",4e3);console.log(success)}).error(function(error){Materialize.toast("Ocurrio un error al eliminar el elemento",4e3);console.log(error)})};this.getUrlNest=function(){};this.sendNudesXtreme=function(elemento1,elemento2){$http({url:config.databaseURL+config.switches+"/"+elemento1+config.puertos+"/"+elemento2,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(response){Materialize.toast("La anidacion fue establecida con existo",4e3);console.log(JSON.stringify(response))},function(response){Materialize.toast("Ocurrio un error al anidar los elementos",4e3);console.log(JSON.stringify(response))})}});
if(navigator.serviceWorker){navigator.serviceWorker.register("sw.js").then(function(registration){console.log("ServiceWorker registration successful with scope:",registration.scope)}).catch(function(error){console.log("ServiceWorker registration failed:",error)})}
